<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API Reference · Bigsimr.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">Bigsimr.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Bigsimr.jl</a></li><li><span class="tocitem">Guides</span><ul><li><a class="tocitem" href="../getting_started/">Getting Started</a></li><li><a class="tocitem" href="../pearson_matching/">Pearson Matching</a></li><li><a class="tocitem" href="../nearest_correlation_matrix/">Nearest Correlation Matrix</a></li></ul></li><li class="is-active"><a class="tocitem" href>API Reference</a><ul class="internal"><li><a class="tocitem" href="#Random-Multivariate-Vector"><span>Random Multivariate Vector</span></a></li><li><a class="tocitem" href="#Correlations"><span>Correlations</span></a></li><li><a class="tocitem" href="#Pearson-Matching"><span>Pearson Matching</span></a></li></ul></li><li><a class="tocitem" href="../details/">Details</a></li><li><a class="tocitem" href="../function_index/">Index</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API Reference</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/adknudson/Bigsimr.jl/blob/master/docs/src/main_functions.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="API-Reference"><a class="docs-heading-anchor" href="#API-Reference">API Reference</a><a id="API-Reference-1"></a><a class="docs-heading-anchor-permalink" href="#API-Reference" title="Permalink"></a></h1><h2 id="Random-Multivariate-Vector"><a class="docs-heading-anchor" href="#Random-Multivariate-Vector">Random Multivariate Vector</a><a id="Random-Multivariate-Vector-1"></a><a class="docs-heading-anchor-permalink" href="#Random-Multivariate-Vector" title="Permalink"></a></h2><h3 id="Functions"><a class="docs-heading-anchor" href="#Functions">Functions</a><a id="Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Functions" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Bigsimr.rvec" href="#Bigsimr.rvec"><code>Bigsimr.rvec</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">rvec(n, ρ::Matrix, margins::Vector{&lt;:UnivariateDistribution})</code></pre><p>Generate samples for a list of marginal distributions and a correaltion structure.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; using Distributions

julia&gt; import LinearAlgebra: diagind

julia&gt; margins = [Normal(3, 1), LogNormal(3, 1), Exponential(3)]

julia&gt; R = fill(0.5, 3, 3); r[diagind(r)] .= 1.0;

julia&gt; rvec(10, R, margins)
#&gt;10×3 Array{Float64,2}:
 3.71109  82.0696   8.14332
 1.23022  38.8599   2.64595
 2.07222   3.76843  1.13465
 2.82434  11.6953   0.891066
 2.37599  10.0552   1.80555
 2.85431  25.4935   3.40865
 3.85253  21.2241   3.67532
 3.70605  59.2439   2.02502
 2.34066   1.89257  0.619948
 3.83507  16.787    0.66837</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adknudson/Bigsimr.jl/blob/627695bbfc6021311fcbdfde35dd12878f1578b3/src/RandomVector/rvec.jl#L1-L29">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Bigsimr.rmvn" href="#Bigsimr.rmvn"><code>Bigsimr.rmvn</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">rmvn(n[, μ], Σ)</code></pre><p>Fast parrallel generation of multivariate normal samples.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adknudson/Bigsimr.jl/blob/627695bbfc6021311fcbdfde35dd12878f1578b3/src/RandomVector/rmvn.jl#L1-L5">source</a></section></article><h2 id="Correlations"><a class="docs-heading-anchor" href="#Correlations">Correlations</a><a id="Correlations-1"></a><a class="docs-heading-anchor-permalink" href="#Correlations" title="Permalink"></a></h2><h3 id="Types"><a class="docs-heading-anchor" href="#Types">Types</a><a id="Types-1"></a><a class="docs-heading-anchor-permalink" href="#Types" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Bigsimr.Pearson" href="#Bigsimr.Pearson"><code>Bigsimr.Pearson</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Pearson &lt;: Correlation</code></pre><p>Pearson&#39;s <span>$r$</span> product-moment correlation</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adknudson/Bigsimr.jl/blob/627695bbfc6021311fcbdfde35dd12878f1578b3/src/Bigsimr.jl#L34-L38">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Bigsimr.Spearman" href="#Bigsimr.Spearman"><code>Bigsimr.Spearman</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Spearman &lt;: Correlation</code></pre><p>Spearman&#39;s <span>$ρ$</span> rank correlation</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adknudson/Bigsimr.jl/blob/627695bbfc6021311fcbdfde35dd12878f1578b3/src/Bigsimr.jl#L40-L44">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Bigsimr.Kendall" href="#Bigsimr.Kendall"><code>Bigsimr.Kendall</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Kendall &lt;: Correlation</code></pre><p>Kendall&#39;s <span>$τ$</span> rank correlation</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adknudson/Bigsimr.jl/blob/627695bbfc6021311fcbdfde35dd12878f1578b3/src/Bigsimr.jl#L46-L50">source</a></section></article><h3 id="Estimating"><a class="docs-heading-anchor" href="#Estimating">Estimating</a><a id="Estimating-1"></a><a class="docs-heading-anchor-permalink" href="#Estimating" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Statistics.cor" href="#Statistics.cor"><code>Statistics.cor</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">cor(x[, y], ::Type{&lt;:Correlation})</code></pre><p>Compute the correlation matrix of a given type. </p><p>The possible correlation types are:</p><ul><li><a href="#Bigsimr.Pearson"><code>Pearson</code></a></li><li><a href="#Bigsimr.Spearman"><code>Spearman</code></a></li><li><a href="#Bigsimr.Kendall"><code>Kendall</code></a></li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; x = [-1.62169     0.0158613   0.500375  -0.794381
             2.50689     3.31666    -1.3049     2.16058
             0.495674    0.348621   -0.614451  -0.193579
             2.32149     2.18847    -1.83165    2.08399
            -0.0573697   0.39908     0.270117   0.658458
             0.365239   -0.321493   -1.60223   -0.199998
            -0.55521    -0.898513    0.690267   0.857519
            -0.356979   -1.03724     0.714859  -0.719657
            -3.38438    -1.93058     1.77413   -1.23657
             1.57527     0.836351   -1.13275   -0.277048];

julia&gt; cor(x, Pearson)
4×4 Array{Float64,2}:
  1.0        0.86985   -0.891312   0.767433
  0.86985    1.0       -0.767115   0.817407
 -0.891312  -0.767115   1.0       -0.596762
  0.767433   0.817407  -0.596762   1.0

julia&gt; cor(x, Spearman)
4×4 Array{Float64,2}:
  1.0        0.866667  -0.854545   0.709091
  0.866667   1.0       -0.781818   0.684848
 -0.854545  -0.781818   1.0       -0.612121
  0.709091   0.684848  -0.612121   1.0

julia&gt; cor(x, Kendall)
4×4 Array{Float64,2}:
  1.0        0.733333  -0.688889   0.555556
  0.733333   1.0       -0.688889   0.555556
 -0.688889  -0.688889   1.0       -0.422222
  0.555556   0.555556  -0.422222   1.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adknudson/Bigsimr.jl/blob/627695bbfc6021311fcbdfde35dd12878f1578b3/src/Correlation/utils.jl#L1-L45">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Bigsimr.cor_fast" href="#Bigsimr.cor_fast"><code>Bigsimr.cor_fast</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">cor_fast(M::Matrix{S}, T::Type{&lt;:Correlation}=Pearson) where {S&lt;:Real}</code></pre><p>Calculate the correlation matrix in parallel.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adknudson/Bigsimr.jl/blob/627695bbfc6021311fcbdfde35dd12878f1578b3/src/Correlation/utils.jl#L54-L58">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Bigsimr.cor_bounds" href="#Bigsimr.cor_bounds"><code>Bigsimr.cor_bounds</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">cor_bounds(dA::UnivariateDistribution, dB::UnivariateDistribution, C::Type{&lt;:Correlation}=Pearson; n_samples::Real=100_000)</code></pre><p>Compute the stochastic lower and upper correlation bounds between two marginal distributions.</p><p>This method relies on sampling from each distribution and then estimating the specified correlation between the sorted samples. Because the samples are random, there will be some variation in the answer for each call to <code>cor_bounds</code>. Increasing the number of samples will increase the accuracy of the estimate, but will also take longer to sort. Therefore ≈100,000 samples (the default) are recommended so that it runs fast while still returning a good estimate.</p><p>The possible correlation types are:</p><ul><li><a href="#Bigsimr.Pearson"><code>Pearson</code></a></li><li><a href="#Bigsimr.Spearman"><code>Spearman</code></a></li><li><a href="#Bigsimr.Kendall"><code>Kendall</code></a></li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; using Distributions

julia&gt; A = Normal(78, 10); B = LogNormal(3, 1);

julia&gt; cor_bounds(A, B)
(lower = -0.7646512417819491, upper = 0.7649206069306482)

julia&gt; cor_bounds(A, B, n_samples=Int(1e9))
(lower = -0.7629776825238167, upper = 0.7629762333824238)

julia&gt; cor_bounds(A, B, n_samples=Int(1e4))
(lower = -0.7507010142250724, upper = 0.7551879647701095)

julia&gt; cor_bounds(A, B, Spearman)
(lower = -1.0, upper = 1.0)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adknudson/Bigsimr.jl/blob/627695bbfc6021311fcbdfde35dd12878f1578b3/src/Correlation/cor_bounds.jl#L1-L37">source</a></section><section><div><pre><code class="language-none">cor_bounds(margins::Vector{&lt;:UD}, C::Type{&lt;:Correlation}=Pearson; n_samples::Real=100_000)</code></pre><p>Compute the stochastic pairwise lower and upper correlation bounds between a set of marginal distributions.</p><p>The possible correlation types are:</p><ul><li><a href="#Bigsimr.Pearson"><code>Pearson</code></a></li><li><a href="#Bigsimr.Spearman"><code>Spearman</code></a></li><li><a href="#Bigsimr.Kendall"><code>Kendall</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adknudson/Bigsimr.jl/blob/627695bbfc6021311fcbdfde35dd12878f1578b3/src/Correlation/cor_bounds.jl#L53-L63">source</a></section></article><h3 id="Generating"><a class="docs-heading-anchor" href="#Generating">Generating</a><a id="Generating-1"></a><a class="docs-heading-anchor-permalink" href="#Generating" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Bigsimr.cor_randPSD" href="#Bigsimr.cor_randPSD"><code>Bigsimr.cor_randPSD</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">cor_randPSD([T::Type{&lt;:AbstractFloat}], d::Int[, k::Int=d-1])</code></pre><p>Return a random positive semidefinite correlation matrix where <code>d</code> is the  dimension (<span>$d ≥ 1$</span>) and <code>k</code> is the number of factor loadings (<span>$1 ≤ k &lt; d$</span>).</p><p>See also: <a href="#Bigsimr.cor_randPD"><code>cor_randPD</code></a></p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; cor_randPSD(Float64, 4, 2)
#&gt;4×4 Array{Float64,2}:
 1.0        0.276386   0.572837   0.192875
 0.276386   1.0        0.493806  -0.352386
 0.572837   0.493806   1.0       -0.450259
 0.192875  -0.352386  -0.450259   1.0

julia&gt; cor_randPSD(4, 1)
4×4 Array{Float64,2}:
1.0       -0.800513   0.541379  -0.650587
-0.800513   1.0       -0.656411   0.788824
0.541379  -0.656411   1.0       -0.533473
-0.650587   0.788824  -0.533473   1.0

julia&gt; cor_randPSD(4)
4×4 Array{Float64,2}:
  1.0        0.81691   -0.27188    0.289011
  0.81691    1.0       -0.44968    0.190938
 -0.27188   -0.44968    1.0       -0.102597
  0.289011   0.190938  -0.102597   1.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adknudson/Bigsimr.jl/blob/627695bbfc6021311fcbdfde35dd12878f1578b3/src/Correlation/random.jl#L1-L32">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Bigsimr.cor_randPD" href="#Bigsimr.cor_randPD"><code>Bigsimr.cor_randPD</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">cor_randPD([T::Type{&lt;:AbstractFloat}], d::Int[, k::Int=d-1])</code></pre><p>The same as <a href="#Bigsimr.cor_randPSD"><code>cor_randPSD</code></a>, but calls <a href="#Bigsimr.cor_fastPD"><code>cor_fastPD</code></a> to ensure that the returned matrix is positive definite.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; cor_randPD(Float64, 4, 2)
#&gt;4×4 Array{Float64,2}:
  1.0        0.458549  -0.33164    0.492572
  0.458549   1.0       -0.280873   0.62544
 -0.33164   -0.280873   1.0       -0.315011
  0.492572   0.62544   -0.315011   1.0

julia&gt; cor_randPD(4, 1)
4×4 Array{Float64,2}:
  1.0        -0.0406469  -0.127517  -0.133308
  -0.0406469   1.0         0.265604   0.277665
  -0.127517    0.265604    1.0        0.871089
  -0.133308    0.277665    0.871089   1.0

julia&gt; cor_randPD(4)
4×4 Array{Float64,2}:
  1.0        0.356488   0.701521  -0.251671
  0.356488   1.0        0.382787  -0.117748
  0.701521   0.382787   1.0       -0.424952
 -0.251671  -0.117748  -0.424952   1.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adknudson/Bigsimr.jl/blob/627695bbfc6021311fcbdfde35dd12878f1578b3/src/Correlation/random.jl#L51-L80">source</a></section></article><h3 id="Converting"><a class="docs-heading-anchor" href="#Converting">Converting</a><a id="Converting-1"></a><a class="docs-heading-anchor-permalink" href="#Converting" title="Permalink"></a></h3><p>Convert a correlation matrix by finding a positive [semi]definite representation.</p><article class="docstring"><header><a class="docstring-binding" id="Bigsimr.cor_nearPD" href="#Bigsimr.cor_nearPD"><code>Bigsimr.cor_nearPD</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">cor_nearPD(R::Matrix{T}, τ::Real=1e-6; tol::Real=1e-3) where {T&lt;:AbstractFloat}</code></pre><p>Return the nearest positive definite correlation matrix to <code>R</code>. <code>τ</code> is a tuning parameter that controls the minimum eigenvalue of the resulting matrix. <code>τ</code> can be set to zero if only a positive semidefinite matrix is needed. <code>tol</code> is the accuracy in the relative gap. Set to a smaller value (e.g. <code>1e-8</code>) if higher accuracy is needed.</p><p>See also: <a href="#Bigsimr.cor_fastPD"><code>cor_fastPD</code></a>, <a href="#Bigsimr.cor_fastPD!"><code>cor_fastPD!</code></a></p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; import LinearAlgebra: isposdef

julia&gt; r = [1.00 0.82 0.56 0.44; 0.82 1.00 0.28 0.85; 0.56 0.28 1.00 0.22; 0.44 0.85 0.22 1.00]
4×4 Array{Float64,2}:
 1.0   0.82  0.56  0.44
 0.82  1.0   0.28  0.85
 0.56  0.28  1.0   0.22
 0.44  0.85  0.22  1.0

julia&gt; isposdef(r)
false

julia&gt; p = cor_nearPD(r)
4×4 Array{Float64,2}:
 1.0       0.817095  0.559306  0.440514
 0.817095  1.0       0.280196  0.847352
 0.559306  0.280196  1.0       0.219582
 0.440514  0.847352  0.219582  1.0

julia&gt; isposdef(p)
true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adknudson/Bigsimr.jl/blob/627695bbfc6021311fcbdfde35dd12878f1578b3/src/Correlation/nearest_pos_def.jl#L1-L36">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Bigsimr.cor_fastPD" href="#Bigsimr.cor_fastPD"><code>Bigsimr.cor_fastPD</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">cor_fastPD(R::Matrix{&lt;:AbstractFloat}[, τ=1e-6])</code></pre><p>Return a positive definite correlation matrix that is close to <code>R</code>. <code>τ</code> is a tuning parameter that controls the minimum eigenvalue of the resulting matrix. <code>τ</code> can be set to zero if only a positive semidefinite matrix is needed.</p><p>See also: <a href="#Bigsimr.cor_fastPD!"><code>cor_fastPD!</code></a>, <a href="#Bigsimr.cor_nearPD"><code>cor_nearPD</code></a></p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; import LinearAlgebra: isposdef

julia&gt; r = [1.00 0.82 0.56 0.44; 0.82 1.00 0.28 0.85; 0.56 0.28 1.00 0.22; 0.44 0.85 0.22 1.00]
4×4 Array{Float64,2}:
 1.0   0.82  0.56  0.44
 0.82  1.0   0.28  0.85
 0.56  0.28  1.0   0.22
 0.44  0.85  0.22  1.0

julia&gt; isposdef(r)
false

julia&gt; p = cor_fastPD(r)
4×4 Array{Float64,2}:
 1.0       0.817095  0.559306  0.440514
 0.817095  1.0       0.280196  0.847352
 0.559306  0.280196  1.0       0.219582
 0.440514  0.847352  0.219582  1.0

julia&gt; isposdef(p)
true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adknudson/Bigsimr.jl/blob/627695bbfc6021311fcbdfde35dd12878f1578b3/src/Correlation/fast_pos_def.jl#L73-L106">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Bigsimr.cor_fastPD!" href="#Bigsimr.cor_fastPD!"><code>Bigsimr.cor_fastPD!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">cor_fastPD!(R::Matrix{&lt;:AbstractFloat}[, τ=1e-6])</code></pre><p>Same as <a href="#Bigsimr.cor_fastPD"><code>cor_fastPD</code></a>, but saves space by overwriting the input <code>R</code> instead of creating a copy.</p><p>See also: <a href="#Bigsimr.cor_fastPD"><code>cor_fastPD</code></a>, <a href="#Bigsimr.cor_nearPD"><code>cor_nearPD</code></a></p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; import LinearAlgebra: isposdef

julia&gt; r = [1.00 0.82 0.56 0.44; 0.82 1.00 0.28 0.85; 0.56 0.28 1.00 0.22; 0.44 0.85 0.22 1.00]
4×4 Array{Float64,2}:
 1.0   0.82  0.56  0.44
 0.82  1.0   0.28  0.85
 0.56  0.28  1.0   0.22
 0.44  0.85  0.22  1.0

julia&gt; isposdef(r)
false

julia&gt; cor_fastPD!(r)

julia&gt; isposdef(r)
true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adknudson/Bigsimr.jl/blob/627695bbfc6021311fcbdfde35dd12878f1578b3/src/Correlation/fast_pos_def.jl#L26-L53">source</a></section></article><p>Convert a correlation matrix using other utilities.</p><article class="docstring"><header><a class="docstring-binding" id="Bigsimr.cor_convert" href="#Bigsimr.cor_convert"><code>Bigsimr.cor_convert</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">cor_convert(X::Matrix{&lt;:Real}, from::Type{&lt;:Correlation}, to::Type{&lt;:Correlation})</code></pre><p>Convert from one type of correlation matrix to another.</p><p>The role of conversion in this package is typically used from either Spearman or  Kendall to Pearson where the Pearson correlation is used in the generation of random multivariate normal samples. After converting, the correlation matrix may not be positive semidefinite, so it is recommended to check using  <code>LinearAlgebra.isposdef</code>, and subsequently calling <a href="#Bigsimr.cor_nearPD"><code>cor_nearPD</code></a>.</p><p>See also: <a href="#Bigsimr.cor_nearPD"><code>cor_nearPD</code></a>, <a href="#Bigsimr.cor_fastPD"><code>cor_fastPD</code></a></p><p>The possible correlation types are:</p><ul><li><a href="#Bigsimr.Pearson"><code>Pearson</code></a></li><li><a href="#Bigsimr.Spearman"><code>Spearman</code></a></li><li><a href="#Bigsimr.Kendall"><code>Kendall</code></a></li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; r = [ 1.0       -0.634114   0.551645   0.548993
            -0.634114   1.0       -0.332105  -0.772114
             0.551645  -0.332105   1.0        0.143949
             0.548993  -0.772114   0.143949   1.0];

julia&gt; cor_convert(r, Pearson, Spearman)
4×4 Array{Float64,2}:
  1.0       -0.616168   0.533701   0.531067
 -0.616168   1.0       -0.318613  -0.756979
  0.533701  -0.318613   1.0        0.13758
  0.531067  -0.756979   0.13758    1.0

julia&gt; cor_convert(r, Spearman, Kendall)
4×4 Array{Float64,2}:
  1.0       -0.452063   0.385867    0.383807
 -0.452063   1.0       -0.224941   -0.576435
  0.385867  -0.224941   1.0         0.0962413
  0.383807  -0.576435   0.0962413   1.0

julia&gt; r == cor_convert(r, Pearson, Pearson)
true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adknudson/Bigsimr.jl/blob/627695bbfc6021311fcbdfde35dd12878f1578b3/src/Correlation/utils.jl#L71-L113">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Bigsimr.cov2cor" href="#Bigsimr.cov2cor"><code>Bigsimr.cov2cor</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">cov2cor(C::Matrix{&lt;:AbstractFloat})</code></pre><p>Transform a covariance matrix into a correlation matrix.</p><p><strong>Details</strong></p><p>If <span>$X \in \mathbb{R}^{n \times n}$</span> is a covariance matrix, then</p><p class="math-container">\[\tilde{X} = D^{-1/2} X  D^{-1/2}, \quad D = \mathrm{diag(X)}\]</p><p>is the associated correlation matrix.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adknudson/Bigsimr.jl/blob/627695bbfc6021311fcbdfde35dd12878f1578b3/src/Correlation/utils.jl#L197-L211">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Bigsimr.cov2cor!" href="#Bigsimr.cov2cor!"><code>Bigsimr.cov2cor!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">cov2cor!(C::Matrix{&lt;:AbstractFloat})</code></pre><p>Same as <a href="#Bigsimr.cov2cor"><code>cov2cor</code></a>, except that the matrix <code>C</code> is updated in place to save memory.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adknudson/Bigsimr.jl/blob/627695bbfc6021311fcbdfde35dd12878f1578b3/src/Correlation/utils.jl#L218-L223">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Bigsimr.cor_constrain" href="#Bigsimr.cor_constrain"><code>Bigsimr.cor_constrain</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">cor_constrain(C::Matrix{&lt;:Real}[, uplo=:U])</code></pre><p>Constrain a matrix so that its diagonal elements are 1, off-diagonal elements are bounded between -1 and 1, and a symmetric view of the upper (if <code>uplo = :U</code>) or lower (if <code>uplo = :L</code>) triangle is made.</p><p>See also: <a href="#Bigsimr.cor_constrain!"><code>cor_constrain!</code></a></p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; a = [ 0.802271   0.149801  -1.1072     1.13451
             0.869788  -0.824395   0.38965    0.965936
            -1.45353   -1.29282    0.417233  -0.362526
             0.638291  -0.682503   1.12092   -1.27018];

julia&gt; cor_constrain(a)
4×4 Array{Float64,2}:
  1.0       0.149801  -1.0        1.0
  0.149801  1.0        0.38965    0.965936
 -1.0       0.38965    1.0       -0.362526
  1.0       0.965936  -0.362526   1.0

julia&gt; cor_constrain(a, :L)
4×4 Array{Float64,2}:
  1.0        0.869788  -1.0   0.638291
  0.869788   1.0       -1.0  -0.682503
 -1.0       -1.0        1.0   1.0
  0.638291  -0.682503   1.0   1.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adknudson/Bigsimr.jl/blob/627695bbfc6021311fcbdfde35dd12878f1578b3/src/Correlation/utils.jl#L158-L188">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Bigsimr.cor_constrain!" href="#Bigsimr.cor_constrain!"><code>Bigsimr.cor_constrain!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">cor_constrain!(C::Matrix{&lt;:Real}[, uplo=:U])</code></pre><p>Same as <a href="#Bigsimr.cor_constrain"><code>cor_constrain</code></a>, except that the matrix <code>C</code> is updated in place to save memory.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; a = [ 0.802271   0.149801  -1.1072     1.13451
             0.869788  -0.824395   0.38965    0.965936
            -1.45353   -1.29282    0.417233  -0.362526
             0.638291  -0.682503   1.12092   -1.27018];

julia&gt; cor_constrain!(a)

julia&gt; a
4×4 Array{Float64,2}:
  1.0       0.149801  -1.0        1.0
  0.149801  1.0        0.38965    0.965936
 -1.0       0.38965    1.0       -0.362526
  1.0       0.965936  -0.362526   1.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adknudson/Bigsimr.jl/blob/627695bbfc6021311fcbdfde35dd12878f1578b3/src/Correlation/utils.jl#L127-L149">source</a></section></article><h2 id="Pearson-Matching"><a class="docs-heading-anchor" href="#Pearson-Matching">Pearson Matching</a><a id="Pearson-Matching-1"></a><a class="docs-heading-anchor-permalink" href="#Pearson-Matching" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Bigsimr.pearson_match" href="#Bigsimr.pearson_match"><code>Bigsimr.pearson_match</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">pearson_match(ρ::Float64, dA::UnivariateDistribution, dB::UnivariateDistribution; n::Int=7)</code></pre><p>Compute the pearson correlation coefficient that is necessary to achieve the target correlation given a pair of marginal distributions.</p><p>See also: <a href="#Bigsimr.pearson_bounds"><code>pearson_bounds</code></a></p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; using Distributions

julia&gt; A = Normal(78, 10); B = LogNormal(3, 1);

julia&gt; pearson_match(0.76, A, B)
0.9962326957682248</code></pre><p>The target correlation may not be feasible (see <a href="#Bigsimr.pearson_bounds"><code>pearson_bounds</code></a>), in  which case the match to the nearest lower or upper bound is returned.</p><pre><code class="language-julia-repl">julia&gt; pearson_match(0.9, A, B)
┌ Warning: The target correlation is not feasible. Returning the match to the nearest bound instead.
[...]
0.9986891675056113</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adknudson/Bigsimr.jl/blob/627695bbfc6021311fcbdfde35dd12878f1578b3/src/PearsonMatching/pearson_match.jl#L1-L28">source</a></section><section><div><pre><code class="language-none">pearson_match(ρ::Matrix{Float64}, margins::Vector{&lt;:UD})</code></pre><p>Compute the pearson correlation coefficient that is necessary to achieve the target correlation matrix given a set of marginal distributions.</p><p>See also: <a href="#Bigsimr.pearson_bounds"><code>pearson_bounds</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adknudson/Bigsimr.jl/blob/627695bbfc6021311fcbdfde35dd12878f1578b3/src/PearsonMatching/pearson_match.jl#L166-L173">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Bigsimr.pearson_bounds" href="#Bigsimr.pearson_bounds"><code>Bigsimr.pearson_bounds</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">pearson_bounds(dA::UnivariateDistribution, dB::UnivariateDistribution; n::Int=7)</code></pre><p>Compute the theoretical lower and upper Pearson correlation values for a pair of  univariate distributions.</p><p>See also: <a href="#Bigsimr.pearson_match"><code>pearson_match</code></a></p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; using Distributions

julia&gt; A = Normal(78, 10); B = LogNormal(3, 1);

julia&gt; pearson_bounds(A, B)
(lower = -0.7628739783668452, upper = 0.762873978367046)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adknudson/Bigsimr.jl/blob/627695bbfc6021311fcbdfde35dd12878f1578b3/src/PearsonMatching/pearson_bounds.jl#L1-L18">source</a></section><section><div><pre><code class="language-none">pearson_bounds(margins::Vector{&lt;:UnivariateDistribution})</code></pre><p>Compute the theoretical lower and upper Pearson correlation values for a set of  univariate distributions.</p><p>See also: <a href="#Bigsimr.pearson_match"><code>pearson_match</code></a></p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; using Distributions

julia&gt; m = [Normal(78, 10), LogNormal(3, 1)];

julia&gt; b = pearson_bounds(m);

julia&gt; b.lower
2×2 Array{Float64,2}:
  1.0       -0.762874
 -0.762874   1.0

julia&gt; b.upper
2×2 Array{Float64,2}:
 1.0       0.762874
 0.762874  1.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adknudson/Bigsimr.jl/blob/627695bbfc6021311fcbdfde35dd12878f1578b3/src/PearsonMatching/pearson_bounds.jl#L42-L68">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../nearest_correlation_matrix/">« Nearest Correlation Matrix</a><a class="docs-footer-nextpage" href="../details/">Details »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Sunday 28 February 2021 02:31">Sunday 28 February 2021</span>. Using Julia version 1.5.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
